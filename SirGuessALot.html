<html>
    <head>
        <title>Sir Guesss A Lot</title>
    </head>
    
    <script>
    
        var answer;
        var guessElem;
        var isnumber = false;
        var guessnumber = 0;
        var numOfGuesses = 0;
        
        var Array_guesses = [];
        var Array_h_o_l = [];
        
        function load()
        {
            guessElem = document.getElementById('guess');
            answer = Math.round(Math.random()*100);
            guessElem.focus();
            guessElem.value = "";
            
            lasth_or_l = "Oh Come on, you haven't even guessed yet";
            lastguess = "";
            
            alert("Press 'h' or click 'Show History' to check your previous guesses.\nPress 'enter' or click 'Submit Guess' to make a guess");
        }
        
        function ResetGame()
        {
            guessElem = document.getElementById('guess');
            answer = Math.round(Math.random()*100);
            //alert(answer);
            guessElem.focus();
            guessElem.value = "";
            
            lasth_or_l = "Oh Come on, you haven't even guessed yet";
            lastguess = "";
        }
        
        function getguess()
        {
            var lowerCaseGuess = guessElem.value;
            var numericExpression = /^[0-9]+$/;
            if(guessElem.value.match(numericExpression)){
                isnumber = true;
                guessnumber = guessElem.value;
            }else if (lowerCaseGuess.toLowerCase() == "it's me, tyler"){
                alert("Oh. Hello Sir. You Win!");
                document.getElementById('text').innerHTML="Ok, I've Got a New Number! It's from 1 to 100.";
                Array_guesses.length=0;
                Array_h_o_l.length=0;
                ResetGame();
            }else{
                isnumber = false;
                alert("You may only \n Input a Whole Number!");
                guessElem.focus();
                guessElem.value = "";
            }
        }
        
        function resetguessElem()
        {
            guessElem.focus();
            guessElem.value = "";
        }
        
        function makeguess()
        {
            getguess();
            if (isnumber)
            {
                numOfGuesses++;
                
                if (guessnumber < answer){alert("Guess Higher."); resetguessElem();
                    
                    document.getElementById('text').innerHTML="My Number Is From 1 to 100.";
                    Array_h_o_l[Array_h_o_l.length] = "Higher";
                    Array_guesses[Array_guesses.length] = guessnumber;
                }
                else if (guessnumber > answer){alert("Guess Lower.");
                    resetguessElem();
                    document.getElementById('text').innerHTML="My Number Is From 1 to 100.";
                    Array_h_o_l[Array_h_o_l.length] = "Lower";
                    Array_guesses[Array_guesses.length] = guessnumber;
                }
                else{ alert("You Got it!\nIt only took you " + numOfGuesses + " guesses.");
                    document.getElementById('text').innerHTML="Ok, I've Got a New Number! It's from 1 to 100.";
                    Array_guesses.length=0;
                    Array_h_o_l.length=0;
                    ResetGame();
                }
                
            }
            guessElem.focus();
            guessElem.value = "";
        }
        
        document.onkeydown = checkKeycode
        function checkKeycode(e)
        {
            if (window.event) keycode = window.event.keyCode;
            else if (e) keycode = e.which;
            
            if (keycode == 72) showHistory();
            
            if (keycode == 13) makeguess();
        }
    
        function showHistory()
        {
            if (Array_guesses.length > 0)
            {
                var guessHistory = "";
                for (var i = 0; i < Array_guesses.length; i++)
                {
                    guessHistory = guessHistory +Array_h_o_l[i]+" Than "+Array_guesses[i] + "\n";
                }
                alert(guessHistory);
                guessElem.focus();
            }else{
                alert("Come On, You Haven't Even Guessed Yet!");
            }
            
            
            setTimeout("guessElem.value = '';",0);
        }
    </script>
    
    <body onload="load();">
        <table height="100%" width="100%" >
            <tr>
                <td align="center">
                    <div id="text" style="font-size:50px">Hello. My Name Is Sir Guess A Lot.<br/>Guess My Number Please. It's from 1 to 100.</div><br/>
                    <input id="guess" type="text" style="font-size:50px"><br/><br/>
                    <button style="font-size:50px" onclick="makeguess();">Submit Guess</button><br/><br/>
                    <button style="font-size:50px" onclick="showHistory()">Show History</button>
                </td>
            </tr>
        </table>
    </body>
</html>
